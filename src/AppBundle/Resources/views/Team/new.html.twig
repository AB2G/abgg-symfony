{% extends '::base.html.twig' %}

{% block body -%}
<div class="row">
	<div class="col-xs-4"></div>
	<div class="col-xs-4">
	  	<div class="form-group">
			{% form_theme form 'bootstrap_3_layout.html.twig' %}

		    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		    
		    <h1>Team creation</h1>
		{{ form_start(form) }}
		    {{ form_rest(form) }}
		        {{ form_widget(form.player.vars.prototype) }}
		        <input class="btn btn-default"  id="addPlayerBtn" type="button" value="Add Player">
		        <hr />
		        <input class="btn btn-default"  type="submit" value="Send">
		    {{ form_end(form) }}
		
		    <script>
		        $(document).ready(function() {
		            var i=0;
		            $('form').data('authenticated', false);
		            $('#addPlayerBtn').on('click', function(e) {
		                e.preventDefault();
		                var container = $('#team_player');
		                var newForm = container.data('prototype').replace(/__name__label__/g, ' ');
		                var newFormLi = $('' +
		                '<div id="'+ i++ +'"> ' +
		                    '<hr>' +
		                    '<button type="button" id="delete"><img id="img" src="../bundles/app/images/delete.png"> ' +
		                ' </div>').append(newForm);
		                container.append(newFormLi);
		                $('button').click(function() {
		                    $(this).parent().remove();
		                });
		            });
		        });
		    </script>
	        <a class="btn btn-default" href="{{ path('team') }}">
	            Back to the list
	        </a>
		</div>
	<div class="col-xs-4"></div>
	</div>
</div>
{% endblock %}
